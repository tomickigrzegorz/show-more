var ShowMore=function(){"use strict";const t={typeElement:"span",more:!1,less:!1,number:!1,nobutton:!1,after:0,btnClass:"show-more-btn",btnClassAppend:null},e=(t,e)=>{const s="table"===e?t.rows:t.children;if(!s)return"";const n=Array.from(s).filter(t=>t.classList.contains("hidden")).length;return 0!==n?` ${n}`:""},s=(t,e=!1)=>{t.classList[e?"add":"remove"]("hidden")},n=(t,e)=>{for(const s in e)t.setAttribute(s,String(e[s]))},i=t=>document.createElement(t),r={newLine:{match:/(\r\n|\n|\r)/gm,replace:" "},space:{match:/\s\s+/gm,replace:" "},br:{match:/<br\b[^>]*\/?>/gim,replace:" "},html:{match:/(<((?!b|\/b|!strong|\/strong)[^>]+)>)/gi,replace:""}};return class{constructor(o,a={}){this.t=!1,this.i=()=>{const{element:t,after:e=0,ellipsis:r,nobutton:o,limit:a=0,type:l}=this.o;n(t,{"showmore-expanded":"false"});const c=a+e,h=!1===r?"":"...";if("text"===l){const e=t.innerHTML.trim();if((t.textContent?.trim()||"").length>c){let s=e;for(const t in this.l){const e=this.l[t];if(e&&t){const{match:t,replace:n}=e;t&&(s=s.replace(t,n))}}const n=((t,e)=>{const s=i("div");s.insertAdjacentHTML("afterbegin",t);let n=e;return function t(e,s){let n=e.firstChild;for(;n;)3===n.nodeType?s(n):1===n.nodeType&&n.childNodes&&n.childNodes[0]&&t(n,s),n=n.nextSibling}(s,function(t){if(n>0){const e=t.data.length;n-=e,n<=0&&(t.data=t.substringData(0,t.data.length+n))}else t.data=""}),s.innerHTML})(s,a-1).concat(h);if(t.textContent="",t.insertAdjacentHTML("beforeend",n),this.h(t,{...this.o,originalText:e,truncatedText:n}),o)return;this.m(this.o)}}if("list"===l||"table"===l){const e=this.p(t,l);if(e.length>c){for(let t=a;t<e.length;t++)s(e[t],!0);if(o||this.m(this.o),this.h("list"===l?t:t.nextElementSibling,this.o),o)return}}},this.h=(t,e)=>{t&&t.addEventListener("click",this.u.bind(this,e))},this.A=t=>{const{element:s,number:r,less:o,more:a,type:l,btnClass:c,btnClassAppend:h}=t,f=this.t?o||"":a||"";let m=this.t?o.trim()||"collapse":a.trim()||"expand";m=r?m+e(s,l||""):m;const p=!!this.t,d=i("button");return d.className=null==h?c:`${c} ${h}`,n(d,{"aria-expanded":p,"aria-label":m,tabindex:0}),d.insertAdjacentHTML("beforeend",r?f+e(s,l||""):f),d},this.u=(t,e)=>{const{target:n}=e;if(!(n instanceof HTMLElement))return;const{element:r,type:o,limit:a=0,less:l,typeElement:c,originalText:h,truncatedText:f,btnClass:m}=t,p=n.classList.contains(m);if(!p)return;const d=r.getAttribute("showmore-expanded");if(this.t="false"===d,"text"===o&&p&&(r.textContent="",r.insertAdjacentHTML("beforeend",this.t?h||"":f||""),l)){const e=i(c);e.classList.add("show-more-wrapper");const s=this.A(t);s&&e.insertAdjacentElement("beforeend",s),r.appendChild(e)}if("list"===o||"table"===o){const t=this.p(r,o);for(let e=0;e<t.length;e++){const n="list"===o?e>=a&&e<t.length-1:e>=a;"false"===d?s(t[e]):n&&s(t[e],!0)}}o&&this.T({...t,target:n})},this.p=(t,e)=>"list"===e?Array.from(t.children):t.rows,this.m=t=>{const{type:e,element:s,more:n,typeElement:r}=t;if(n)if("table"===e)s.insertAdjacentElement("afterend",this.A(t));else{const e=i(r);e.classList.add("show-more-wrapper"),e.appendChild(this.A(t)),s.appendChild(e)}},this.T=t=>{const{element:s,type:i,less:r,more:o,number:a,target:l}=t;if(!(l instanceof HTMLElement))return;const c=this.t?r:o,h=this.t?"expand":"collapse",f=s.lastElementChild,m=a?c+e(s,i||""):c;n(s,{"showmore-expanded":this.t}),n(l,{"aria-expanded":this.t,"aria-label":m}),this.C(h,t),c?l.innerHTML=a?c+e(s,i||""):c:"table"===i?l.parentNode?.removeChild(l):"list"===i&&f?.parentNode&&f.parentNode.removeChild(f)};const{onMoreLess:l=()=>{},regex:c={},config:h}=a,f=Array.from(document.querySelectorAll(o));this.C=l,this.l={...r,...c},f.forEach((e,s)=>{const n=e.getAttribute("data-config"),i=n?JSON.parse(n):{},r={...h,...i};this.o={index:s,classArray:e.classList,...t,...r,typeElement:r.element||"span",element:e},this.i()})}}}();
