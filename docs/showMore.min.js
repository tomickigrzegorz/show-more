var ShowMore=function(){"use strict";const t={typeElement:"span",more:!1,less:!1,number:!1,nobutton:!1,after:0,btnClass:"show-more-btn",btnClassAppend:null},e=(t,e)=>{const s="table"===e?t.rows:t.children;if(!s)return"";const n=Array.from(s).filter(t=>t.classList.contains("hidden")).length;return 0!==n?` ${n}`:""},s=(t,e=!1)=>{t.classList[e?"add":"remove"]("hidden")},n=(t,e)=>{for(const s in e)t.setAttribute(s,String(e[s]))},i=t=>document.createElement(t),r={newLine:{match:/(\r\n|\n|\r)/gm,replace:" "},space:{match:/\s\s+/gm,replace:" "},br:{match:/<br\b[^>]*\/?>/gim,replace:" "},html:{match:/(<((?!b|\/b|!strong|\/strong)[^>]+)>)/gi,replace:""}};return class{constructor(o,l={}){this.t=!1,this.i=()=>{const{element:t,after:e=0,ellipsis:r,nobutton:o,limit:l=0,type:a}=this.o;n(t,{"showmore-expanded":"false"});const c=l+e,h=!1===r?"":"...";if("text"===a){const e=t.innerHTML.trim();if((t.textContent?.trim()||"").length>c){let s=e;for(const t of Object.values(this.l))t?.match&&(s=s.replace(t.match,t.replace));const n=((t,e)=>{const s=i("div");s.insertAdjacentHTML("afterbegin",t);let n=e;return function t(e,s){let n=e.firstChild;for(;n;)3===n.nodeType?s(n):1===n.nodeType&&n.childNodes&&n.childNodes[0]&&t(n,s),n=n.nextSibling}(s,function(t){if(n>0){const e=t.data.length;n-=e,n<=0&&(t.data=t.substringData(0,t.data.length+n))}else t.data=""}),s.innerHTML})(s,l-1).concat(h);t.textContent="",t.insertAdjacentHTML("beforeend",n),this.h(t,{...this.o,originalText:e,truncatedText:n}),o||this.m(this.o)}return}if("list"===a||"table"===a){const e=this.p(t,a);if(e.length>c){for(let t=l;t<e.length;t++)s(e[t],!0);o||this.m(this.o),this.h("list"===a?t:t.nextElementSibling,this.o)}}},this.h=(t,e)=>{t&&t.addEventListener("click",this.u.bind(this,e))},this.A=t=>{const{element:s,number:r,less:o,more:l,type:a,btnClass:c,btnClassAppend:h}=t,f=this.t?o||"":l||"";let m=this.t?o.trim()||"collapse":l.trim()||"expand";const p=r?e(s,a||""):"";m=r?m+p:m;const b=i("button");return b.className=null==h?c:`${c} ${h}`,n(b,{"aria-expanded":this.t,"aria-label":m,tabindex:0}),b.insertAdjacentHTML("beforeend",r?f+p:f),b},this.u=(t,e)=>{const{target:n}=e;if(!(n instanceof HTMLElement))return;const{element:r,type:o,limit:l=0,less:a,typeElement:c,originalText:h,truncatedText:f,btnClass:m}=t;if(!n.classList.contains(m))return;const p=r.getAttribute("showmore-expanded");if(this.t="false"===p,"text"===o&&(r.textContent="",r.insertAdjacentHTML("beforeend",this.t?h||"":f||""),a)){const e=i(c);e.classList.add("show-more-wrapper");const s=this.A(t);s&&e.insertAdjacentElement("beforeend",s),r.appendChild(e)}if("list"===o||"table"===o){const t=this.p(r,o);if("false"===p)for(let e=l;e<t.length;e++)s(t[e],!1);else{const e="list"===o?t.length-1:t.length;for(let n=l;n<e;n++)s(t[n],!0)}}o&&this.T({...t,target:n})},this.p=(t,e)=>"list"===e?Array.from(t.children):t.rows,this.m=t=>{const{type:e,element:s,more:n,typeElement:r}=t;if(n)if("table"===e)s.insertAdjacentElement("afterend",this.A(t));else{const e=i(r);e.classList.add("show-more-wrapper"),e.appendChild(this.A(t)),s.appendChild(e)}},this.T=t=>{const{element:s,type:i,less:r,more:o,number:l,target:a}=t;if(!(a instanceof HTMLElement))return;const c=this.t?r:o,h=this.t?"expand":"collapse",f=s.lastElementChild,m=l?e(s,i||""):"",p=l?c+m:c;n(s,{"showmore-expanded":this.t}),n(a,{"aria-expanded":this.t,"aria-label":p}),this.C(h,t),c?a.innerHTML=l?c+m:c:"table"===i?a.parentNode?.removeChild(a):"list"===i&&f?.parentNode&&f.parentNode.removeChild(f)};const{onMoreLess:a=()=>{},regex:c={},config:h}=l,f=Array.from(document.querySelectorAll(o));this.C=a,this.l={...r,...c},f.forEach((e,s)=>{const n=e.getAttribute("data-config"),i=n?JSON.parse(n):{},r={...h,...i};this.o={index:s,classArray:e.classList,...t,...r,typeElement:r.element||"span",element:e},this.i()})}}}();
//# sourceMappingURL=showMore.min.js.map
