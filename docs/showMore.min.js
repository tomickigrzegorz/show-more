var ShowMore=function(){"use strict";const e=(e,t)=>{let{rows:n,children:s}=e;const i="table"===t?n:s,l=[].slice.call(i).filter((e=>e.classList.contains("hidden"))).length;return 0!==l?` ${l}`:""},t=function(e,t){return void 0===t&&(t=!1),e.classList[t?"add":"remove"]("hidden")},n=(e,t)=>{for(let n in t)e.setAttribute(n,t[n])},s=e=>document.createElement(e),i={newLine:{match:/(\r\n|\n|\r)/gm,replace:" "},space:{match:/\s\s+/gm,replace:" "},br:{match:/<br\b[^>]*\/?>/gim,replace:" "},html:{match:/(<((?!b|\/b|!strong|\/strong)[^>]+)>)/gi,replace:""}},l={typeElement:"span",more:!1,less:!1,number:!1,nobutton:!1,after:0,btnClass:"show-more-btn",btnClassAppend:null};return class{constructor(e,t){let{onMoreLess:n=(()=>{}),regex:s={},config:r}=void 0===t?{}:t;const o=[].slice.call(document.querySelectorAll(e));this.t=n,this.i={...i,...s},o.map(((e,t)=>{const n=JSON.parse(e.getAttribute("data-config")),s={...r,...n};this.l={index:t,classArray:e.classList,...l,...s,typeElement:s.element||"span",element:e},this.o()}))}o=()=>{const{element:e,after:i,ellipsis:l,nobutton:r,limit:o,type:a}=this.l;n(e,{"showmore-expanded":"false"});const c=o+i,h=!1===l?"":"...";if("text"===a){const t=e.innerHTML.trim();if(e.textContent.trim().length>c){let n=t;for(let e in this.i){const{match:t,replace:s}=this.i[e];e&&t&&(n=n.replace(t,s))}const i=((e,t)=>{let n=s("div");return n.insertAdjacentHTML("afterbegin",e),function e(t,n){let s=t.firstChild;do{3===s.nodeType?n(s):1===s.nodeType&&s.childNodes&&s.childNodes[0]&&e(s,n)}while(s=s.nextSibling)}(n,(function(e){if(t>0){let n=e.data.length;(t-=n)<=0&&(e.data=e.substringData(0,e.data.length+t))}else e.data=""})),n.innerHTML})(n,o-1).concat(h);if(e.textContent="",e.insertAdjacentHTML("beforeend",i),this.h(e,{...this.l,originalText:t,truncatedText:i}),r)return;this.m(this.l)}}if("list"===a||"table"===a){const n=this.p(e,a);if(n.length>c){for(let e=o;e<n.length;e++)t(n[e],!0);if(r||this.m(this.l),this.h("list"===a?e:e.nextElementSibling,this.l),r)return}}};h=(e,t)=>e.addEventListener("click",this.u.bind(this,t));g=t=>{let{element:i,number:l,less:r,more:o,type:a,btnClass:c,btnClassAppend:h}=t;const d=this._?r||"":o||"";let m=this._?r.trim()||"collapse":o.trim()||"expand";m=l?m+e(i,a):m;const p=!!this._,f=s("button");return f.className=null==h?c:c+" "+h,n(f,{"aria-expanded":p,"aria-label":m,tabindex:0}),f.insertAdjacentHTML("beforeend",l?d+e(i,a):d),f};u=(e,n)=>{let{target:i}=n;const{element:l,type:r,limit:o,less:a,typeElement:c,originalText:h,truncatedText:d,btnClass:m}=e,p=i.classList.contains(m);if(!p)return;const f=l.getAttribute("showmore-expanded");if(this._="false"===f,"text"===r&&p&&(l.textContent="",l.insertAdjacentHTML("beforeend",this._?h:d),a)){const t=s(c);t.classList.add("show-more-wrapper"),t.insertAdjacentElement("beforeend",this.g(e)),l.appendChild(t)}if("list"===r||"table"===r){const e=this.p(l,r);for(let n=0;n<e.length;n++){const s="list"===r?n>=o&&n<e.length-1:n>=o;"false"===f?t(e[n]):s&&t(e[n],!0)}}r&&this.v({...e,target:i})};p=(e,t)=>"list"===t?[].slice.call(e.children):e.rows;m=e=>{const{type:t,element:n,more:i,typeElement:l}=e;if(i)if("table"===t)n.insertAdjacentElement("afterend",this.g(e));else{const t=s(l);t.classList.add("show-more-wrapper"),t.appendChild(this.g(e)),n.appendChild(t)}};v=t=>{const{element:s,type:i,less:l,more:r,number:o,target:a}=t,c=this._?l:r,h=this._?"expand":"collapse",d=s.lastElementChild,m=o?c+e(s,i):c;n(s,{"showmore-expanded":this._}),n(a,{"aria-expanded":this._,"aria-label":m}),this.t(h,t),c?a.innerHTML=o?c+e(s,i):c:"table"===i?a.parentNode.removeChild(a):"list"===i&&d.parentNode.removeChild(d)}}}();
//# sourceMappingURL=showMore.min.js.map
